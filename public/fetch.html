<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Location</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="login-container" >
        <h2 style="background-color: beige; width:100% ">नमस्ते</h2>     
        <form id="location-form">
            <div class="input-group">
                <label for="state">State:
                <select id="state" class="login-input" required>
                    <option value="" disabled selected>Select State</option>
                </select></label>
            </div>
            <div class="input-group">
                <label for="district">District:
                <select id="district" class="login-input" required>
                    <option value="" disabled selected>Select District</option>
                </select></label>
            </div>
            <div class="input-group">
                <label for="city">City:
                <select id="city" class="login-input" required>
                    <option value="" disabled selected>Select City</option>
                </select></label>
            </div>
            <button type="submit" >Confirm</button>
        </form>
    </div>
    <canvas id="dotCanvas" style="z-index: -1; display:block;position: fixed; user-select: none; background-color: bisque;"></canvas>
    <script src="canvas.js"></script>
    <script>
        const stateSelect = document.getElementById("state");
        const districtSelect = document.getElementById("district");
        const citySelect = document.getElementById("city");

        const locationData = {
            "Andhra Pradesh": {"Visakhapatnam": ["Gajuwaka", "Madhurawada"], "Vijayawada": ["Benz Circle", "Krishna Lanka"]},
            "Arunachal Pradesh": {"Itanagar": ["Naharlagun", "Ganga Market"]},
            "Assam": {"Guwahati": ["Dispur", "Paltan Bazaar"]},
            "Bihar": {"Patna": ["Kankarbagh", "Bailey Road"]},
            "Chhattisgarh": {"Raipur": ["Pandri", "Amanaka"]},
            "Goa": {"Panaji": ["Miramar", "Dona Paula"]},
            "Gujarat": {"Ahmedabad": ["Navrangpura", "Maninagar"]},
            "Haryana": {"Chandigarh": ["Sector 17", "Manimajra"]},
            "Himachal Pradesh": {"Shimla": ["Mall Road", "Summer Hill"]},
            "Jharkhand": {"Ranchi": ["Kanke", "Lalpur"]},
            "Karnataka": {"Bangalore": ["MG Road", "Indiranagar"]},
            "Kerala": {"Thiruvananthapuram": ["Kowdiar", "Vellayambalam"]},
            "Madhya Pradesh": {"Bhopal": ["MP Nagar", "Arera Colony"]},
            "Maharashtra": {"Mumbai": ["Andheri", "Bandra"], "Pune": ["Shivajinagar", "Hinjewadi"]},
            "Manipur": {"Imphal": ["Thangal Bazaar", "Kangla"]},
            "Meghalaya": {"Shillong": ["Police Bazar", "Laitumkhrah"]},
            "Mizoram": {"Aizawl": ["Bawngkawn", "Dawrpui"]},
            "Nagaland": {"Kohima": ["Bara Basti", "PR Hill"]},
            "Odisha": {"Bhubaneswar": ["Sahid Nagar", "Jaydev Vihar"]},
            "Punjab": {"Amritsar": ["Golden Temple", "Ranjit Avenue"]},
            "Rajasthan": {"Jaipur": ["Malviya Nagar", "Vaishali Nagar"]},
            "Sikkim": {"Gangtok": ["MG Marg", "Deorali"]},
            "Tamil Nadu": {"Chennai": ["T. Nagar", "Velachery"], "Coimbatore": ["Gandhipuram", "Peelamedu"]},
            "Telangana": {"Hyderabad": ["Banjara Hills", "Secunderabad"]},
            "Tripura": {"Agartala": ["Battala", "Kaman Chowmuhani"]},
            "Uttar Pradesh": {"Lucknow": ["Hazratganj", "Gomti Nagar"]},
            "Uttarakhand": {"Dehradun": ["Rajpur Road", "Balliwala"]},
            "West Bengal": {"Kolkata": ["Park Street", "Salt Lake"]}
        };

        Object.keys(locationData).forEach(state => {
            let option = new Option(state, state);
            stateSelect.appendChild(option);
        });

        stateSelect.addEventListener("change", () => {
            districtSelect.innerHTML = '<option value="" disabled selected>Select District</option>';
            citySelect.innerHTML = '<option value="" disabled selected>Select City</option>';
            
            const selectedState = stateSelect.value;
            Object.keys(locationData[selectedState] || {}).forEach(district => {
                let option = new Option(district, district);
                districtSelect.appendChild(option);
            });
        });

        districtSelect.addEventListener("change", () => {
            citySelect.innerHTML = '<option value="" disabled selected>Select City</option>';
            
            const selectedState = stateSelect.value;
            const selectedDistrict = districtSelect.value;
            
            (locationData[selectedState]?.[selectedDistrict] || []).forEach(city => {
                let option = new Option(city, city);
                citySelect.appendChild(option);
            });
        });

        document.getElementById("location-form").addEventListener("submit", (e) => {
            e.preventDefault();
            window.location.href = "scan.html";
        });
    </script>
</body>
</html>
